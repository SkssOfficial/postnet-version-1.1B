<html>

<head>
    <meta charset="UTF-8">
    <title>Demo</title>

    <!-- <script src="p5.min.js"></script>
    <script src="p5.dom.min.js"></script>
    <script src="ml5.min.js" type="text/javascript"></script> -->
    <script src="popper.min.js" type="text/javascript"></script>
    <script src="js/bootstrap.bundle.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=Playfair&#43;Display:700,900&amp;display=swap" rel="stylesheet">
    <link href="own.css" rel="stylesheet">

</head>

<body class="screenbg">
    <div class="container">
        <header class="blog-header py-5" style="background-color: #f9f9f9;">
            <div class="row flex-nowrap justify-content-between align-items-center mx-3">
                <div class="col-4 pt-1">
                    <a class="link-secondary customFontSizeLarge" href="./home.html">回到首頁</a>
                </div>
                <div class="col-4 text-center">
                    <a class="blog-header-logo text-dark customFontSizeLarge" href="#">示範影片</a>
                </div>
                <div class="col-4 d-flex justify-content-end align-items-center">
                    <a class="btn btn-sm btn-outline-secondary customFontSizeLarge" href="./index.html">下一步</a>
                </div>
            </div>
        </header>
    </div>

    <main class="container" style="padding-top: 30%; padding-bottom: 10%;">
        <h2 class="blog-post-title" id="stepTitle">步驟</h2>
        <!-- <div class="embed-responsive embed-responsive-16by9">
            <iframe id="demoVideo" style="width: 100%; height: 80%;" width="560" height="315" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div> -->
        <video width="100%" id="demoVideo" controls autoplay>
            <!-- <source src="" type="video/mp4 "> -->
            <!-- Your browser does not support the video tag. -->
        </video>
    </main>

    <footer class="blog-footer mt-4 ">
        <p>
            <!-- <a href="# ">Back to top</a> -->
        </p>
    </footer>
    <script>
        function initByStep() {
            // document.getElementById("demo ").innerHTML = "Paragraph changed. ";
            let step = sessionStorage.getItem('step');
            console.log(step)
            if (step == null) {
                //return home
                window.location.href = "./home.html ";
                return
            }

            // let demoVideoPlayer = document.getElementById('demoVideo')
            // console.log(demoVideoPlayer)
            let stepTitle = document.getElementById('stepTitle')
            stepTitle.innerHTML = stepTitle.innerHTML + " " + String(parseInt(step) + 1)

            var video = document.getElementById('demoVideo');
            var demoVideoPlayer = document.createElement('source');
            var audio1 = new Audio('./assets/vl3.m4a');
            var audio2 = new Audio('./assets/vl9.m4a');
            var audio3 = new Audio('./assets/vl11.m4a')

            // source.setAttribute('src', 'http://www.tools4movies.com/trailers/1012/Kill%20Bill%20Vol.3.mp4');

            switch (String(step)) {
                case '0':
                    audio1.play();
                    demoVideoPlayer.setAttribute("src", "./assets/fitness_exercise_action1.mp4");               
                    break;
                case '1':
                    demoVideoPlayer.setAttribute("src", "./assets/fitness_exercise_action2.mp4");
                    audio2.play();
                    break;
                case '2':
                    demoVideoPlayer.setAttribute("src", "./assets/fitness_exercise_action4.mp4");
                    audio3.play();
                    break;
                default:
                    window.location.href = "./home.html ";
                    break;
            }

            video.appendChild(demoVideoPlayer);
            video.play();

            // setTimeout(function() {
            //     video.pause();

            //     source.setAttribute('src', 'http://www.tools4movies.com/trailers/1012/Despicable%20Me%202.mp4');

            //     video.load();
            //     video.play();
            // }, 3000);
        }
        initByStep();
    </script>
</body>

</html>
